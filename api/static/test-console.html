<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulation Console - Imaging Order Prioritization</title>
    <link rel="stylesheet" href="test-console.css">
</head>
<body>
    <div class="console-container">
        <header class="console-header">
            <div class="header-content">
                <h1>ü©ª Imaging Order Prioritization - Simulation Console</h1>
                <p class="subtitle">Interactive RL Environment Testing for Healthcare Decision Makers</p>
            </div>
            <button class="btn-back" onclick="window.location.href='index.html'">‚Üê Back to Catalog</button>
        </header>

        <div class="console-layout">
            <!-- Left Panel: Configuration -->
            <div class="panel config-panel">
                <h2>‚öôÔ∏è Configuration - Input</h2>
                
                <div class="config-section">
                    <h3>Initial Queue Setup</h3>
                    <div class="form-group">
                        <label>Number of Orders in Queue:</label>
                        <input type="number" id="queue-size" value="15" min="1" max="50" />
                    </div>
                    <div class="form-group">
                        <label>High Urgency Orders (%):</label>
                        <input type="number" id="high-urgency-pct" value="30" min="0" max="100" />
                    </div>
                    <div class="form-group">
                        <label>Average Order Value ($):</label>
                        <input type="number" id="avg-order-value" value="500" min="100" max="5000" />
                    </div>
                </div>

                <div class="config-section">
                    <h3>Equipment Availability</h3>
                    <div class="form-group">
                        <label>CT Scanner Availability:</label>
                        <input type="range" id="ct-availability" min="0" max="100" value="80" />
                        <span id="ct-value">80%</span>
                    </div>
                    <div class="form-group">
                        <label>MRI Availability:</label>
                        <input type="range" id="mri-availability" min="0" max="100" value="70" />
                        <span id="mri-value">70%</span>
                    </div>
                    <div class="form-group">
                        <label>X-Ray Availability:</label>
                        <input type="range" id="xray-availability" min="0" max="100" value="90" />
                        <span id="xray-value">90%</span>
                    </div>
                </div>

                <div class="config-section">
                    <h3>RL Agent Settings</h3>
                    <div class="form-group">
                        <label>Agent Strategy:</label>
                        <select id="agent-strategy">
                            <option value="random">Random (Baseline)</option>
                            <option value="urgency_first">Urgency First</option>
                            <option value="value_first">High Value First</option>
                            <option value="balanced">Balanced (RL Optimized)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Simulation Speed:</label>
                        <select id="sim-speed">
                            <option value="slow">Slow (1 step/sec)</option>
                            <option value="medium" selected>Medium (2 steps/sec)</option>
                            <option value="fast">Fast (5 steps/sec)</option>
                        </select>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="btn-initialize">Initialize Environment</button>
                    <button class="btn btn-secondary" id="btn-reset">Reset</button>
                </div>
            </div>

            <!-- Center Panel: Simulation View -->
            <div class="panel simulation-panel">
                <div class="panel-header">
                    <h2>üìä Training Simulation</h2>
                    <div class="sim-controls">
                        <button class="btn btn-small" id="btn-step">Step Forward</button>
                        <button class="btn btn-small" id="btn-auto">Auto Run</button>
                        <button class="btn btn-small btn-danger" id="btn-stop">Stop</button>
                    </div>
                </div>

                <div class="simulation-view">
                    <div class="queue-display">
                        <h3>üìã Order Queue</h3>
                        <div id="order-queue" class="order-list">
                            <div class="empty-state">Click "Initialize Environment" to start</div>
                        </div>
                    </div>

                    <div class="current-action">
                        <h3>üéØ Current Action</h3>
                        <div id="action-display" class="action-box">
                            <div class="empty-state">Waiting for initialization...</div>
                        </div>
                    </div>

                    <div class="processed-orders">
                        <h3>‚úÖ Processed Orders</h3>
                        <div id="processed-list" class="order-list">
                            <div class="empty-state">No orders processed yet</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Metrics & KPIs -->
            <div class="panel metrics-panel">
                <h2>üìà Real-Time Metrics - Output</h2>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-label">Queue Length</div>
                        <div class="metric-value" id="metric-queue">0</div>
                        <div class="metric-trend" id="trend-queue">-</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Urgent Waiting</div>
                        <div class="metric-value" id="metric-urgent">0</div>
                        <div class="metric-trend" id="trend-urgent">-</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Equipment Utilization</div>
                        <div class="metric-value" id="metric-utilization">0%</div>
                        <div class="metric-trend" id="trend-utilization">-</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Orders Processed</div>
                        <div class="metric-value" id="metric-processed">0</div>
                        <div class="metric-trend" id="trend-processed">-</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Avg Wait Time</div>
                        <div class="metric-value" id="metric-wait">0 min</div>
                        <div class="metric-trend" id="trend-wait">-</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Revenue Impact</div>
                        <div class="metric-value" id="metric-revenue">$0</div>
                        <div class="metric-trend" id="trend-revenue">-</div>
                    </div>
                </div>

                <div class="kpi-section">
                    <h3>Key Performance Indicators</h3>
                    <div class="kpi-chart">
                        <canvas id="kpi-chart"></canvas>
                    </div>
                </div>

                <div class="recommendations">
                    <h3>üí° AI Recommendations</h3>
                    <div id="recommendations-list" class="recommendations-list">
                        <div class="empty-state">Run simulation to see recommendations</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Panel: Results Summary -->
        <div class="results-panel">
            <h2>üìä Simulation Results</h2>
            <div class="results-grid">
                <div class="result-card">
                    <h4>Clinical Outcomes</h4>
                    <div id="results-clinical" class="result-content">-</div>
                </div>
                <div class="result-card">
                    <h4>Operational Efficiency</h4>
                    <div id="results-efficiency" class="result-content">-</div>
                </div>
                <div class="result-card">
                    <h4>Financial Impact</h4>
                    <div id="results-financial" class="result-content">-</div>
                </div>
                <div class="result-card">
                    <h4>ROI Assessment</h4>
                    <div id="results-roi" class="result-content">-</div>
                </div>
            </div>
        </div>
    </div>

    <script src="simulation-console.js"></script>
</body>
</html>

