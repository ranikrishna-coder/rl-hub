# GitHub Pages Deployment Guide

RL Hub frontend can be deployed to GitHub Pages, with the API hosted separately on Render/Railway.

## ğŸ¯ Architecture

- **Frontend (GitHub Pages)**: Static HTML/CSS/JS - Fast, free CDN
- **Backend API (Render/Railway)**: FastAPI server - Handles all API requests

## ğŸš€ Quick Setup

### Step 1: Enable GitHub Pages

1. Go to your GitHub repository: `ranikrishna-coder/rl-hub`
2. Click **Settings** â†’ **Pages**
3. Under **Source**, select:
   - **Source**: `GitHub Actions`
4. Save

### Step 2: Deploy API to Render (or Railway)

The frontend needs an API endpoint. Deploy the API first:

1. Go to [render.com](https://render.com)
2. Create a new **Web Service**
3. Connect your GitHub repo
4. Your API will be at: `https://rl-hub.onrender.com`

### Step 3: Configure API URL

**Option A: Update Workflow (Recommended)**

Edit `.github/workflows/deploy-github-pages.yml`:

```yaml
- name: Prepare static files
  env:
    API_URL: 'https://rl-hub.onrender.com'  # Your API URL
  run: |
    # ... rest of the script
```

**Option B: Update After Deployment**

After GitHub Pages deploys, edit the `config.js` file in the repository or update the workflow.

### Step 4: Push to Deploy

```bash
git add .
git commit -m "Enable GitHub Pages deployment"
git push origin main
```

The workflow will automatically:
1. Build the static frontend
2. Create `config.js` with your API URL
3. Deploy to GitHub Pages

### Step 5: Access Your App

After deployment (2-3 minutes), your app will be at:
- **Frontend**: `https://ranikrishna-coder.github.io/rl-hub/`
- **API**: `https://rl-hub.onrender.com` (or your API URL)

## ğŸ“‹ How It Works

1. **GitHub Actions** runs on every push to `main`
2. **Workflow** copies static files to `_site/` directory
3. **Creates** `config.js` with your API endpoint
4. **Deploys** to GitHub Pages
5. **Frontend** loads `config.js` and connects to your API

## ğŸ”§ Configuration

### API URL Configuration

The frontend uses `config.js` to determine the API endpoint:

```javascript
// config.js (auto-generated by workflow)
window.API_BASE = 'https://rl-hub.onrender.com';
```

### Custom API URL

To use a different API URL:

1. **Edit the workflow** (`.github/workflows/deploy-github-pages.yml`):
   ```yaml
   env:
     API_URL: 'https://your-api-url.com'
   ```

2. **Or manually edit** `config.js` after deployment

3. **Or set via environment variable** in GitHub Actions secrets

## ğŸŒ Custom Domain

You can use a custom domain for GitHub Pages:

1. Go to **Settings** â†’ **Pages**
2. Under **Custom domain**, enter your domain
3. Configure DNS as instructed
4. Your app will be at: `https://yourdomain.com`

## ğŸ”„ Update Process

Every time you push to `main`:
1. GitHub Actions automatically rebuilds
2. Deploys new version to GitHub Pages
3. Takes 1-2 minutes

## ğŸ› Troubleshooting

### Frontend Can't Connect to API

1. **Check CORS**: Make sure your API allows requests from GitHub Pages domain
2. **Check API URL**: Verify `config.js` has the correct API URL
3. **Check API Status**: Ensure your API is running and accessible

### CORS Issues

If you see CORS errors, update your API (`api/main.py`):

```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "https://ranikrishna-coder.github.io",
        "http://localhost:8000",
        "https://rl-hub.onrender.com"
    ],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

### API Not Found

- Verify your API is deployed and running
- Check the API URL in `config.js`
- Test API directly: `curl https://rl-hub.onrender.com/`

## ğŸ“Š Deployment Status

Check deployment status:
1. Go to **Actions** tab in GitHub
2. Look for "Deploy to GitHub Pages" workflow
3. Click to see logs and status

## ğŸ¨ What Gets Deployed

- âœ… `index.html` - Main catalog page
- âœ… `simulation-console.html` - Simulation interface
- âœ… All CSS files
- âœ… All JavaScript files
- âœ… `config.js` - API configuration (auto-generated)

## ğŸ” Security Notes

- GitHub Pages is public - don't put secrets in frontend code
- API keys should be in backend only
- Use HTTPS for all API calls

## ğŸ“ File Structure

```
rl-hub/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy-github-pages.yml  # Deployment workflow
â”œâ”€â”€ api/
â”‚   â””â”€â”€ static/                      # Frontend files
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ app.js
â”‚       â”œâ”€â”€ styles.css
â”‚       â””â”€â”€ ...
â””â”€â”€ _site/                           # Generated (not in repo)
    â”œâ”€â”€ index.html
    â”œâ”€â”€ config.js                    # Auto-generated
    â””â”€â”€ ...
```

## ğŸš€ Next Steps

1. âœ… Enable GitHub Pages in repository settings
2. âœ… Deploy API to Render/Railway
3. âœ… Update API_URL in workflow
4. âœ… Push to trigger deployment
5. âœ… Access your app at `https://ranikrishna-coder.github.io/rl-hub/`

## ğŸ’¡ Benefits of This Setup

- âœ… **Free hosting** for frontend (GitHub Pages)
- âœ… **Fast CDN** - GitHub Pages uses global CDN
- âœ… **Automatic HTTPS** - SSL certificate included
- âœ… **Easy updates** - Just push to GitHub
- âœ… **Separate scaling** - Frontend and API scale independently

